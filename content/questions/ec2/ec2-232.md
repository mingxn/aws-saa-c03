---
title: "A company runs demonstration environments for its customers ..."
draft: false
categories:
  - EC2
  - Compute
domain: "Design High-Performing Architectures"
difficulty: "medium"
question: "A company runs demonstration environments for its customers on Amazon EC2 instances. Each environment is isolated in its own VPC. The companyâ€™s operations team needs to be notied when RDP or SSH access to an environment has been established."
options:
  A: "Configure Amazon CloudWatch Application Insights to create AWS Systems Manager OpsItems when RDP or SSH access is detected."
  B: "Configure the EC2 instances with an IAM instance profile that has an IAM role with the AmazonSSMManagedInstanceCore policy attached."
  C: "Publish VPC ow logs to Amazon CloudWatch Logs. Create required metric filters. Create an Amazon CloudWatch metric alarm with a notification action for when the alarm is in the ALARM state."
  D: "Configure an Amazon EventBridge rule to listen for events of type EC2 Instance State-change Notification. Configure an Amazon Simple Notification Service (Amazon SNS) topic as a target. Subscribe the operations team to the topic."
answer: "B"
explanation: "The correct option for notifying the operations team when RDP or SSH access to an environment has been established is:  C. Publish VPC flow logs to Amazon CloudWatch Logs. Create required metric filters. Create an Amazon CloudWatch metric alarm with a notification action for when the alarm is in the ALARM state.  Here's why:  VPC Flow Logs:** VPC flow logs capture information about the IP traffic going to and from network interfaces in your VPC. This includes information about accepted and rejected connections. To monitor RDP or SSH access, you can analyze these logs.  CloudWatch Logs:** By publishing VPC flow logs to CloudWatch Logs, you can analyze the logs using metric filters to extraffict relevant information.  Metric Filters:** Create metric filters to match the patterns corresponding to RDP or SSH access in the CloudWatch Logs. For example, you can create metric filters that look for specific keywords or patterns related to RDP or SSH connections. CloudWatch Metric Alarm:** Set up CloudWatch metric alarms based on the metric filters. When the alarm is triggered (indicating that RDP or SSH access has been detected), it can take a notification action, such as sending a notification to the operations team via Amazon SNS."
tags:
  - ec2
  - compute
---

<!-- Question data is in frontmatter -->
